enum OrderStatus {
    PENDING
    COMPLETED
    CANCELLED
}

model Order {
    id              String        @id @default(uuid())
    orderDetails    OrderDetail[]
    totalCheckOut   Float
    transactionData Json
    email           String
    status          OrderStatus   @default(PENDING)
    userId          String
    eventId         String
    user            User          @relation(fields: [userId], references: [id])
    event           Event         @relation(fields: [eventId], references: [id])
    createdAt       DateTime      @default(now())

    @@map("orders")
}

model OrderDetail {
    id        String   @id @default(uuid())
    orderId   String
    order     Order    @relation(fields: [orderId], references: [id])
    ticketId  String   @unique
    ticket    Ticket   @relation(fields: [ticketId], references: [id])
    amount    Float?
    createdAt DateTime @default(now())

    @@map("order_details")
}
